–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê)
–ü—Ä–∏–Ω—Ü–∏–ø: –õ–æ–≥–∏–∫–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –º–∏–Ω–∏–º—É–º –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ
–î–∞—Ç–∞: 28.11.2025, 14:53
–°—Ç–∞—Ç—É—Å: –û–ñ–ò–î–ê–ï–¢ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø ‚ö†Ô∏è
–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞: 2 (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
playback-tracker.sh - –í–°–Ø –ª–æ–≥–∏–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
vlc-cec.sh - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (3 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞!)
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–±—ã–ª–æ –≤ v1):
–õ–æ–≥–∏–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ vlc-cec.sh
–°–º–µ—à–∏–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π
üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ playback-tracker.sh
–ò–∑–º–µ–Ω–µ–Ω–∏–µ 0: –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Semantic Versioning)
–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –°—Ç—Ä–æ–∫–∏ 1-5 (header)

–¢–µ–∫—É—â–∏–π –∫–æ–¥:

#!/bin/bash
# playback-tracker.sh
# –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: source "$HOME/vlc/playback-tracker.sh"
–ó–ê–ú–ï–ù–ò–¢–¨ –Ω–∞:

#!/bin/bash
# playback-tracker.sh - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
# –í–µ—Ä—Å–∏—è: 0.2.0
# Changelog:
#   0.2.0 (2025-11-28) - –î–æ–±–∞–≤–ª–µ–Ω VLC –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (monitor_vlc_playback, finalize_playback)
#   0.1.0 (2025-11-28) - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ .ser ‚Üí .playback, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
#   0.0.1 (–Ω–∞—á–∞–ª—å–Ω–∞—è) - –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (save_progress, load_progress, get_status_icon)
#
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: source "$SCRIPT_DIR/playback-tracker.sh"
# –í–µ—Ä—Å–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Semantic Versioning: MAJOR.MINOR.PATCH)
PLAYBACK_TRACKER_VERSION="0.2.0"
PLAYBACK_TRACKER_MIN_VERSION="0.2.0"  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è
# –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π
check_version_compatibility() {
    local required_version="$1"
    local current_version="$PLAYBACK_TRACKER_VERSION"
    
    # –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: major version –¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å
    local req_major=$(echo "$required_version" | cut -d. -f1)
    local cur_major=$(echo "$current_version" | cut -d. -f1)
    
    if [ "$req_major" != "$cur_major" ]; then
        echo "‚ùå –û–®–ò–ë–ö–ê: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è playback-tracker.sh"
        echo "   –¢—Ä–µ–±—É–µ—Ç—Å—è: $required_version"
        echo "   –¢–µ–∫—É—â–∞—è:   $current_version"
        return 1
    fi
    
    return 0
}
–ó–∞—á–µ–º:

SemVer –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (0.MINOR.PATCH - –ø–æ–∫–∞ API –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ)
Changelog –≤ header - –≤–∏–¥–Ω–æ –∏—Å—Ç–æ—Ä–∏—é
–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
–ó–∞—â–∏—Ç–∞ –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –≤–µ—Ä—Å–∏–π
–°—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ: +23 (–≤–º–µ—Å—Ç–æ 5)

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ 1: –§—É–Ω–∫—Ü–∏—è monitor_vlc_playback()
–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 191)

–î–û–ë–ê–í–ò–¢–¨:

# ============================================================
# –ú–û–ù–ò–¢–û–†–ò–ù–ì VLC –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–Ø
# ============================================================
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è VLC –≤ —Ñ–æ–Ω–µ
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: monitor_vlc_playback "/path/to/video.avi" VLC_PID
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: PID –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
monitor_vlc_playback() {
    local video_file="$1"
    local vlc_pid="$2"
    local video_dir=$(dirname "$video_file")
    local video_name=$(basename "$video_file")
    
    (
        while true; do
            sleep "$MONITOR_INTERVAL"  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏–∑ –Ω–∞—á–∞–ª–∞ —Ñ–∞–π–ª–∞ (60 —Å–µ–∫)
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ VLC –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
            if ! kill -0 "$vlc_pid" 2>/dev/null; then
                break
            fi
            
            # –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é —á–µ—Ä–µ–∑ VLC RC (timeout 1 —Å–µ–∫)
            local current=$(echo "get_time" | nc -w 1 localhost 4212 2>&1 | grep -oE '[0-9]+' | tail -1)
            local total=$(echo "get_length" | nc -w 1 localhost 4212 2>&1 | grep -oE '[0-9]+' | tail -1)
            
            # –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ - —Å–æ—Ö—Ä–∞–Ω—è–µ–º
            if [ -n "$current" ] && [ -n "$total" ] && [ "$total" -gt 0 ]; then
                local percent=$((current * 100 / total))
                save_progress "$video_dir" "$video_name" "$current" "$total" "$percent"
            fi
        done
    ) &
    
    echo $!  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º PID –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
}
# –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: finalize_playback "/path/to/video.avi"
finalize_playback() {
    local video_file="$1"
    local video_dir=$(dirname "$video_file")
    local video_name=$(basename "$video_file")
    
    # –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é (timeout 2 —Å–µ–∫ - –¥–æ–ª—å—à–µ —Ç.–∫. —ç—Ç–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ)
    local current=$(echo "get_time" | nc -w 2 localhost 4212 2>&1 | grep -oE '[0-9]+' | tail -1)
    local total=$(echo "get_length" | nc -w 2 localhost 4212 2>&1 | grep -oE '[0-9]+' | tail -1)
    
    if [ -n "$current" ] && [ -n "$total" ] && [ "$total" -gt 0 ]; then
        local percent=$((current * 100 / total))
        echo "üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏: ${percent}% (${current}s / ${total}s)"
        save_progress "$video_dir" "$video_name" "$current" "$total" "$percent"
        return 0
    fi
    
    return 1
}
–ó–∞—á–µ–º:

–í—Å—è –ª–æ–≥–∏–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è (–º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –∏–∑ –ª—é–±–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É MONITOR_INTERVAL
–°—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ: ~55

üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ vlc-cec.sh
–ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–µ—Ä—Å–∏–∏
–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 18

–î–û–ë–ê–í–ò–¢–¨:

# –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
source "$SCRIPT_DIR/playback-tracker.sh"
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
REQUIRED_TRACKER_VERSION="0.2.0"
if ! check_version_compatibility "$REQUIRED_TRACKER_VERSION"; then
    exit 1
fi
–°—Ç—Ä–æ–∫: +8

–ó–∞—á–µ–º:

–£–∫–∞–∑—ã–≤–∞–µ–º —Ç—Ä–µ–±—É–µ–º—É—é –≤–µ—Ä—Å–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
–ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 69 (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ cec-client)

–¢–µ–∫—É—â–∏–π –∫–æ–¥ (—Å—Ç—Ä–æ–∫–∏ 66-71):

echo "‚úì VLC –∑–∞–ø—É—â–µ–Ω"
echo "‚úì RC –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: localhost:4212"
echo "‚úì CEC –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: $CEC_DEVICE"
echo ""
echo "üéÆ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—É–ª—å—Ç–∞ (–Ω–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)..."
echo ""
–î–û–ë–ê–í–ò–¢–¨ –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 69:

# –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ñ–æ–Ω–µ
MONITOR_PID=$(monitor_vlc_playback "$VIDEO_FILE" $VLC_PID)
–°—Ç—Ä–æ–∫: +2

–ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ cleanup()
–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –°—Ç—Ä–æ–∫–∏ 334-341

–¢–µ–∫—É—â–∏–π –∫–æ–¥:

cleanup() {
    echo ""
    echo "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã..."
    kill $CEC_PID 2>/dev/null
    kill $VLC_PID 2>/dev/null
    pkill -P $$ 2>/dev/null
    exit 0
}
–ó–ê–ú–ï–ù–ò–¢–¨ –Ω–∞:

cleanup() {
    echo ""
    echo "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã..."
    
    # –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
    finalize_playback "$VIDEO_FILE"
    
    # –ó–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã
    kill $MONITOR_PID 2>/dev/null
    kill $CEC_PID 2>/dev/null
    kill $VLC_PID 2>/dev/null
    pkill -P $$ 2>/dev/null
    exit 0
}
–°—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–æ: 8 ‚Üí 13 (+5)

üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ video-menu.sh (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –≤ –±—É–¥—É—â–µ–º)
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: video-menu.sh —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç playback-tracker.sh (load_progress)

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤–µ—Ä—Å–∏–∏:
–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (—Å—Ç—Ä–æ–∫–∞ ~12):

source "./playback-tracker.sh"
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
REQUIRED_TRACKER_VERSION="0.2.0"
if ! check_version_compatibility "$REQUIRED_TRACKER_VERSION"; then
    exit 1
fi
–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç:

–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π –º–µ–∂–¥—É vlc-cec.sh –∏ video-menu.sh
–ó–∞—â–∏—Ç—É –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –≤–µ—Ä—Å–∏–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
playback-tracker.sh:
–î–æ–±–∞–≤–ª–µ–Ω–æ: ~80 —Å—Ç—Ä–æ–∫
–ù–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π: 3
check_version_compatibility() - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π
monitor_vlc_playback() - –∑–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
finalize_playback() - —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
–í–µ—Ä—Å–∏—è: 0.1.0 ‚Üí 0.2.0
vlc-cec.sh:
–î–æ–±–∞–≤–ª–µ–Ω–æ: 10 —Å—Ç—Ä–æ–∫
–ò–∑–º–µ–Ω–µ–Ω–æ: 5 —Å—Ç—Ä–æ–∫
–í—Å–µ–≥–æ: 15 —Å—Ç—Ä–æ–∫ –Ω–æ–≤–æ–≥–æ/–∏–∑–º–µ–Ω—ë–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
–¢—Ä–µ–±—É–µ—Ç: playback-tracker.sh v0.2.0+
video-menu.sh (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
–î–æ–±–∞–≤–ª–µ–Ω–æ: 5 —Å—Ç—Ä–æ–∫ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏)
–¢—Ä–µ–±—É–µ—Ç: playback-tracker.sh v0.2.0+ (—É–∂–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ)
–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: 85% –ª–æ–≥–∏–∫–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, 15% –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚úÖ

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π:

vlc-cec.sh - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VLC –∏ CEC
playback-tracker.sh - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å:

–§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
–ù–µ –Ω—É–∂–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É
–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

vlc-cec.sh –ø–æ—á—Ç–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
–í—Å—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–ß—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:
‚úÖ VLC –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚úÖ –ö–∞–∂–¥—ã–µ 60 —Å–µ–∫ (MONITOR_INTERVAL) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è
‚úÖ –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ - —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
‚úÖ –§–æ–Ω–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
‚úÖ –í—Å—è –ª–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

–§–∞–π–ª—ã:
.playback
 –≤ –ø–∞–ø–∫–µ —Å –≤–∏–¥–µ–æ
–§–æ—Ä–º–∞—Ç: video.avi:2673:2700:99:1732567890
‚ö†Ô∏è –†–∏—Å–∫–∏
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ:
‚úÖ –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É
‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π timeout (1 —Å–µ–∫ –≤ —Ñ–æ–Ω–µ, 2 —Å–µ–∫ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π)
‚úÖ –ü—Ä–∏ –æ—à–∏–±–∫–µ - –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Ü–∏–∫–ª
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
–ú–µ–∂–¥—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º–∏ –¥–æ 60 —Å–µ–∫ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ MONITOR_INTERVAL)
–¢—Ä–µ–±—É–µ—Ç—Å—è RC –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ localhost:4212
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å: bash -n playback-tracker.sh && bash -n vlc-cec.sh
‚úÖ –ó–∞–ø—É—Å–∫: ./vlc-cec.sh test.avi
‚úÖ –ß–µ—Ä–µ–∑ 1 –º–∏–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å 
.playback
‚úÖ BACK - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ - –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å –ø–æ–∑–∏—Ü–∏–∏
‚úã –í–û–ü–†–û–°–´ –î–õ–Ø –û–ë–°–£–ñ–î–ï–ù–ò–Ø (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

–ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:

–¢–µ–∫—É—â–∏–π: 60 —Å–µ–∫ (—á–µ—Ä–µ–∑ MONITOR_INTERVAL)
–û–±—Å—É–¥–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–í–æ–∑–º–æ–∂–Ω–æ: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª (—á–∞—â–µ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ, —Ä–µ–∂–µ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ)
Timeout –¥–ª—è VLC RC:

–§–æ–Ω–æ–≤—ã–π: 1 —Å–µ–∫
–§–∏–Ω–∞–ª—å–Ω—ã–π: 2 —Å–µ–∫
–û–±—Å—É–¥–∏—Ç—å –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏?
–¢–æ–ª—å–∫–æ –ø—Ä–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏? (—Ç–µ–∫—É—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç)
Silent mode?
Retry –ª–æ–≥–∏–∫–∞:

–°–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ VLC RC?
Backoff —Å—Ç—Ä–∞—Ç–µ–≥–∏—è?
–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ —ç—Ç–∏–º –≤–æ–ø—Ä–æ—Å–∞–º –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ!

‚úÖ –£–¢–í–ï–†–ñ–î–ï–ù–û –ö –í–´–ü–û–õ–ù–ï–ù–ò–Æ
–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞: 2 (—Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
–î–∞—Ç–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: 28.11.2025, 15:20

–ü—Ä–∏—Å—Ç—É–ø–∞–µ–º –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π!