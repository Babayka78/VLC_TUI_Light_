# –í–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 27.11.2025, 19:13  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 27.11.2025, 21:46

---

## üåê –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –Ø–∑—ã–∫ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- **–û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫:** –†—É—Å—Å–∫–∏–π
- –ö–æ–¥ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ: –†—É—Å—Å–∫–∏–π
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –†—É—Å—Å–∫–∏–π
- Commit messages –∏ CHANGELOG: –†—É—Å—Å–∫–∏–π

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è review –≤ –Ω–∞—á–∞–ª–µ —Å–µ—Å—Å–∏–∏
1. **HANDOFF-NEXT-SESSION.md** (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - –≤–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. **CHANGELOG.md** - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞
3. **Summary_*.md** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã (–ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ –¥–∞—Ç–µ)
4. –†–∞–±–æ—á–∏–µ —Ñ–∞–π–ª—ã:
   - `vlc-cec.sh`
   - `video-menu.sh`
   - `playback-tracker.sh`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Bash scripting
- VLC media player (cvlc)
- Dialog (TUI –º–µ–Ω—é)
- CEC (Consumer Electronics Control) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø—É–ª—å—Ç –¢–í
- Raspberry Pi 4 –≤ console mode

### –°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤

**–§–æ—Ä–º–∞—Ç –∏–º—ë–Ω –±—ç–∫–∞–ø–æ–≤:**
```
filename_V#_YYMMDD_HHMM.bak
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `filename` - –±–∞–∑–æ–≤–æ–µ –∏–º—è –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- `V#` - –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏ (V1, V2, V3...)
- `YYMMDD_HHMM` - –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è (251127_2021)
- `.bak` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—ç–∫–∞–ø–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```
vlc-cec_V5_251127_2021.bak
CHANGELOG_V1_251127_2021.bak
Summary_251127_1745_V1_251127_2021.bak
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è:**
```
/vlc/
‚îú‚îÄ‚îÄ *.sh                    # –†–∞–±–æ—á–∏–µ —Ñ–∞–π–ª—ã (playback-tracker, video-menu, vlc-cec)
‚îú‚îÄ‚îÄ README.md               # –û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è GitHub (–≤ –∫–æ—Ä–Ω–µ)
‚îú‚îÄ‚îÄ backup-end-of-day.sh    # –°–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–æ–≤
‚îú‚îÄ‚îÄ RELIS/                  # –†–µ–ª–∏–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ playback-tracker_RELIS.sh
‚îÇ   ‚îú‚îÄ‚îÄ video-menu_RELIS.sh
‚îÇ   ‚îú‚îÄ‚îÄ vlc-cec_RELIS.sh
‚îÇ   ‚îî‚îÄ‚îÄ series-tracker_RELIS.sh (legacy)
‚îú‚îÄ‚îÄ DOCS/                   # –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ HANDOFF-NEXT-SESSION.md
‚îÇ   ‚îú‚îÄ‚îÄ CHANGELOG.md
‚îÇ   ‚îú‚îÄ‚îÄ Summary_*.md
‚îÇ   ‚îî‚îÄ‚îÄ future_features/
‚îÇ       ‚îî‚îÄ‚îÄ development_roadmap.md
‚îú‚îÄ‚îÄ BAK/                    # –ü–∞–ø–∫–∞ –±—ç–∫–∞–ø–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ 251128/             # –ë—ç–∫–∞–ø—ã –∑–∞ 28.11.2025
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ *_V#_*.bak      # .sh –∏ .md —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Summary_*.md    # –ö–æ–ø–∏–∏ Summary
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ archive/
    ‚îî‚îÄ‚îÄ old_backups_*/      # –ê—Ä—Ö–∏–≤ —Å—Ç–∞—Ä—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
```

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
- –í—Å—è —Ç–µ–∫—É—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `DOCS/`
- README.md –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ (–¥–ª—è GitHub)
- Summary —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –≤ `DOCS/`

**–ü—Ä–∞–≤–∏–ª–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–æ–≤:**

1. **–í –ù–ê–ß–ê–õ–ï —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è:**
   - –ü—Ä–æ—á–∏—Ç–∞—Ç—å `DOCS/HANDOFF-NEXT-SESSION.md`
   - –°–æ–∑–¥–∞—Ç—å `DOCS/Summary_YYMMDD_HHMM.md` (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –æ –ø–ª–∞–Ω–µ —Ä–∞–±–æ—Ç—ã)
   - –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `BAK/YYMMDD/` –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç

2. **–ü–ï–†–ï–î –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Ä–∞–±–æ—á–∏—Ö —Ñ–∞–π–ª–æ–≤:**
   - –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞
   - –ù—É–º–µ—Ä–∞—Ü–∏—è V# –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤ `BAK/`
   - –ë—ç–∫–∞–ø —Å—Ä–∞–∑—É –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ `BAK/YYMMDD/`

3. **–ü–ï–†–ï–î –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º RELIS —Ñ–∞–π–ª–æ–≤ (–ö–†–ò–¢–ò–ß–ù–û!):**
   - –í–°–ï–ì–î–ê —Å–æ–∑–¥–∞–≤–∞—Ç—å –±—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–π RELIS –≤–µ—Ä—Å–∏–∏ –ü–ï–†–ï–î –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é
   - –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –±—ç–∫–∞–ø–∞ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –≤ `RELIS/`
   - –ü—Ä–∏–º–µ—Ä:
     ```bash
     cp RELIS/vlc-cec_RELIS.sh BAK/251128/vlc-cec_RELIS_V5_251128_1330.bak
     cp vlc-cec.sh RELIS/vlc-cec_RELIS.sh
     ```

4. **–í –ö–û–ù–¶–ï —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!):**
   - –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø—ã –í–°–ï–• RELIS —Ñ–∞–π–ª–æ–≤ –∏–∑ `RELIS/` (–¥–∞–∂–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
   - –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø—ã .md —Ñ–∞–π–ª–æ–≤ –∏–∑ `DOCS/`:
     - HANDOFF-NEXT-SESSION.md
     - CHANGELOG.md
     - development_roadmap.md
     - Summary_YYMMDD_*.md (—Ç–µ–∫—É—â–∏–µ)
   - –í—Å–µ –±—ç–∫–∞–ø—ã –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ `BAK/YYMMDD/`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: `./backup-end-of-day.sh`

5. **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –°—Ç–∞—Ä—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –≤ `archive/old_backups_YYMMDD/`
   - –ë—ç–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π –º–æ–∂–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ workflow:**

```bash
# === –ù–ê–ß–ê–õ–û –î–ù–Ø ===
# 1. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è –±—ç–∫–∞–ø–æ–≤
TODAY=$(date +%y%m%d)
mkdir -p BAK/$TODAY

# 2. –°–æ–∑–¥–∞—Ç—å Summary –≤ DOCS/
TIMESTAMP=$(date +%y%m%d_%H%M)
# vi DOCS/Summary_${TODAY}_${TIMESTAMP}.md

# 2. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Summary
TIMESTAMP=$(date +%y%m%d_%H%M)
cp Summary_${TODAY}_*.md BAK/$TODAY/Summary_${TODAY}_*_V1_${TIMESTAMP}.bak

# === –ü–ï–†–ï–î –ò–ó–ú–ï–ù–ï–ù–ò–ï–ú –§–ê–ô–õ–ê ===
# 3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
# –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ–¥–Ω–∏–π vlc-cec –±—ã–ª V5, –∑–Ω–∞—á–∏—Ç —Å–æ–∑–¥–∞—ë–º V6
TIMESTAMP=$(date +%y%m%d_%H%M)
cp vlc-cec.sh BAK/$TODAY/vlc-cec_V6_${TIMESTAMP}.bak

# === –ü–ï–†–ï–î –û–ë–ù–û–í–õ–ï–ù–ò–ï–ú RELIS ===
# –ö–†–ò–¢–ò–ß–ù–û: –°–Ω–∞—á–∞–ª–∞ –±—ç–∫–∞–ø, –ø–æ—Ç–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ!
TIMESTAMP=$(date +%y%m%d_%H%M)
cp RELIS/vlc-cec_RELIS.sh BAK/251128/vlc-cec_RELIS_V5_${TIMESTAMP}.bak
cp vlc-cec.sh RELIS/vlc-cec_RELIS.sh

# === –ö–û–ù–ï–¶ –î–ù–Ø ===
# 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
./backup-end-of-day.sh

# –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç –±—ç–∫–∞–ø—ã:
# - –í–°–ï–• RELIS —Ñ–∞–π–ª–æ–≤ –∏–∑ RELIS/
# - –í–°–ï–• .md –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
# - Summary —Ñ–∞–π–ª–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
```

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (—Å–∫—Ä–∏–ø—Ç backup-end-of-day.sh):**

–°–∫—Ä–∏–ø—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```bash
#!/bin/bash
TODAY=$(date +%y%m%d)
TIMESTAMP=$(date +%y%m%d_%H%M)
mkdir -p BAK/$TODAY

echo "–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ –Ω–∞ –∫–æ–Ω–µ—Ü –¥–Ω—è..."

# RELIS —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ RELIS/
cp RELIS/vlc-cec_RELIS.sh BAK/$TODAY/vlc-cec_RELIS_V#_${TIMESTAMP}.bak
cp RELIS/video-menu_RELIS.sh BAK/$TODAY/video-menu_RELIS_V#_${TIMESTAMP}.bak
cp RELIS/playback-tracker_RELIS.sh BAK/$TODAY/playback-tracker_RELIS_V#_${TIMESTAMP}.bak
cp RELIS/series-tracker_RELIS.sh BAK/$TODAY/series-tracker_RELIS_V#_${TIMESTAMP}.bak

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è .md –∏–∑ DOCS/
cp DOCS/HANDOFF-NEXT-SESSION.md BAK/$TODAY/HANDOFF-NEXT-SESSION_V#_${TIMESTAMP}.bak
cp DOCS/CHANGELOG.md BAK/$TODAY/CHANGELOG_V#_${TIMESTAMP}.bak
cp DOCS/future_features/development_roadmap.md BAK/$TODAY/development_roadmap_V#_${TIMESTAMP}.bak
cp DOCS/Summary_${TODAY}_*.md BAK/$TODAY/ 2>/dev/null

echo "‚úì –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞–Ω—ã –≤ BAK/$TODAY/"
```

> [!IMPORTANT]
> V# –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é, –ø–æ—Å–º–æ—Ç—Ä–µ–≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π –Ω–æ–º–µ—Ä –≤ `BAK/`!

### –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

- `filename.sh` - —Ç–µ–∫—É—â–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è
- `filename_RELIS.sh` - —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑ (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- `filename_V#_YYMMDD_HHMM.bak` - –±—ç–∫–∞–ø—ã —Å –∏—Å—Ç–æ—Ä–∏–µ–π –≤–µ—Ä—Å–∏–π

---

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ (27.11.2025)

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ VLC –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ —Å CEC —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ –ø—É–ª—å—Ç –¢–í
- ‚úÖ –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å `dialog` –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤–∏–¥–µ–æ
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –¥–ª—è –í–°–ï–• –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤ (–Ω–µ —Ç–æ–ª—å–∫–æ —Å–µ—Ä–∏–∞–ª–æ–≤)
- ‚úÖ –ò–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞: `[ ]` –Ω–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ, `[T]` —á–∞—Å—Ç–∏—á–Ω–æ, `[X]` –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤ `.ser` —Ñ–∞–π–ª—ã
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –∫—É—Ä—Å–æ—Ä–∞ –≤ –º–µ–Ω—é:
  - –ü–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤–≤–µ—Ä—Ö (`..`) - –∫—É—Ä—Å–æ—Ä –Ω–∞ –ø–∞–ø–∫—É
  - –ü–æ—Å–ª–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è - –∫—É—Ä—Å–æ—Ä –Ω–∞ –≤–∏–¥–µ–æ—Ñ–∞–π–ª
- ‚úÖ Hotkey –≤ –º–µ–Ω—é - –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ —Ñ–∞–π–ª–∞ –∫—Ä–∞—Å–Ω–∞—è –∏ –∞–∫—Ç–∏–≤–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ —Å—Ç–∞—Ç—É—Å–∞ —Å–ø—Ä–∞–≤–∞ –æ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚ö†Ô∏è –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–µ–∫ (RED –∫–Ω–æ–ø–∫–∞) - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚ö†Ô∏è –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ (GREEN –∫–Ω–æ–ø–∫–∞) - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚ö†Ô∏è –ì—Ä–æ–º–∫–æ—Å—Ç—å (YELLOW/BLUE –∫–Ω–æ–ø–∫–∏) - –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –Ω–∞ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é

---

## üìã –ù–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ—Å—Å–∏–∏

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
1. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ `.ser` ‚Üí `.playback`**
   - –û–±–Ω–æ–≤–∏—Ç—å `playback-tracker.sh`:
     - –§—É–Ω–∫—Ü–∏—è `get_ser_file` ‚Üí `get_playback_file`
     - –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å `.ser` –Ω–∞ `.playback`
   - –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö `.ser` —Ñ–∞–π–ª–æ–≤
   - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

2. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**
   - –£–±—Ä–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è "—Å–µ—Ä–∏–∞–ª–æ–≤" –∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
   - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞ "–≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã" –∏–ª–∏ "–ø—Ä–æ–≥—Ä–µ—Å—Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è"
   - –§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: `playback-tracker.sh`, `video-menu.sh`

3. **Cleanup –∫–æ–¥–∞**
   - –£–¥–∞–ª–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ –∏–∑ `video-menu.sh`:
     ```bash
     # –°—Ç—Ä–æ–∫–∞ 104-105
     echo "DEBUG: –í—ã—á–∏—Å–ª–µ–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –æ–∫–Ω–∞: $max_width"
     ```
   - –ü–æ–º–µ—Ç–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ DEPRECATED:
     - `is_series_file` (–±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
     - `get_episode_code` (–±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CEC –∫–Ω–æ–ø–æ–∫** (–≤ vlc-cec.sh)
   - RED –∫–Ω–æ–ø–∫–∞ (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–µ–∫) - —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–ª–∞–¥–∫–∏
   - GREEN –∫–Ω–æ–ø–∫–∞ (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤) - —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–ª–∞–¥–∫–∏
   - YELLOW/BLUE –∫–Ω–æ–ø–∫–∏ - –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å —Å –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é (–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫—É—é)

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

### –ê–∫—Ç–∏–≤–Ω—ã–µ (—Ä–∞–±–æ—á–∏–µ)
```
vlc-cec.sh              - VLC –ø–ª–µ–µ—Ä —Å CEC + –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—Ç–∞ —Å –ø–æ–∑–∏—Ü–∏–∏
video-menu.sh           - –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º
playback-tracker.sh     - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤
series-tracker.sh       - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ (legacy, –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
```

### –†–µ–ª–∏–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ (_RELIS)
```
vlc-cec_RELIS.sh        - –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è VLC (Version 4)
video-menu_RELIS.sh     - –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –º–µ–Ω—é —Å —Å–µ—Ä–∏–∞–ª–∞–º–∏
series-tracker_RELIS.sh - –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å–µ—Ä–∏–∞–ª–æ–≤
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```
CHANGELOG.md                  - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞
HANDOFF-NEXT-SESSION.md      - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–≤–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
Summary_251127_1745.md       - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –æ—Ç 27.11.2025
HANDOFF_bak_251127_1912.md   - Backup HANDOFF –æ—Ç 27.11.2025 19:12
```

### Data —Ñ–∞–π–ª—ã
```
.ser –∏–ª–∏ .playback  - –§–∞–π–ª—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
```

**–§–æ—Ä–º–∞—Ç .ser/.playback:**
```
filename:seconds:total:percent:timestamp
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### VLC –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞
```bash
# –ë–µ–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏:
./vlc-cec.sh "/path/to/file.avi"

# –° —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–µ–π:
./vlc-cec.sh "1234" "/path/to/file.avi"
```

### Dialog –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```bash
dialog --colors --output-fd 1 \
    --title "$title" \
    --default-item "$default_item" \
    --menu "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∏–ª–∏ –ø–∞–ø–∫—É:" 20 120 15 \
    "${items[@]}" \
    2>/dev/tty
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ items:**
- Tag (–ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ) = —á–∏—Å—Ç–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ ‚Üí hotkey –Ω–∞ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ
- Description (–≤—Ç–æ—Ä–æ–µ –ø–æ–ª–µ) = –∏–∫–æ–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ + —Ä–∞–∑–º–µ—Ä

### –¶–≤–µ—Ç–æ–≤—ã–µ –∫–æ–¥—ã Dialog
- `\Z4` - —Å–∏–Ω–∏–π (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏)
- `\Z1` - –∫—Ä–∞—Å–Ω—ã–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –ø–µ—Ä–≤–æ–π –±—É–∫–≤—ã hotkey)
- `\Zn` - —Å–±—Ä–æ—Å —Ü–≤–µ—Ç–∞

**–í–∞–∂–Ω–æ:** Dialog –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–π —Å–∏–º–≤–æ–ª tag –∫—Ä–∞—Å–Ω—ã–º –∫–∞–∫ hotkey. –ü–æ–ø—ã—Ç–∫–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç–∞ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `\Z` –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### –ü–æ—Ä–æ–≥–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
```bash
WATCHED_THRESHOLD=99     # >= 99% = [X]
PARTIAL_THRESHOLD=1      # >= 1%  = [T]
                         # 0%      = [ ]
```

### CEC –∫–æ–¥—ã –∫–Ω–æ–ø–æ–∫
```
44:00 - OK (Play/Pause)
44:01 - UP (+30 sec)
44:02 - DOWN (-30 sec)
44:03 - LEFT (-10 sec)
44:04 - RIGHT (+10 sec)
44:0d - BACK (Exit)
44:35 - INFO (Time)
44:72 - RED (Audio track)
44:73 - GREEN (Subtitles)
44:74 - YELLOW (Volume +)
44:71 - BLUE (Volume -)
44:30 - CH UP (+60 sec)
44:31 - CH DOWN (-60 sec)
44:20-29 - –¶–∏—Ñ—Ä—ã 0-9 (Jump to %)
```

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã
1. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å CHANGELOG.md –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ —Ä–∞–±–æ—á–∏–µ —Ñ–∞–π–ª—ã: `vlc-cec.sh`, `video-menu.sh`, `playback-tracker.sh`
3. –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG.md –ø—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. –°–æ–∑–¥–∞–≤–∞—Ç—å backup –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ä–µ–ª–∏–∑–æ–≤
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
2. –°–æ–∑–¥–∞—Ç—å `_RELIS.sh` –≤–µ—Ä—Å–∏—é —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. –û–±–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç HANDOFF —Ñ–∞–π–ª —Å —Ç–µ–∫—É—â–∏–º —Å—Ç–∞—Ç—É—Å–æ–º

### –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º
1. –î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–∞–∑–¥–µ–ª "–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã" —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
2. –°–æ–∑–¥–∞—Ç—å issue –≤ —Ä–∞–∑–¥–µ–ª–µ "–ù–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏"
3. –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG.md –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è

---

## üìù Checklist –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏

- [ ] –û–±–Ω–æ–≤–ª—ë–Ω CHANGELOG.md —Å –Ω–æ–≤—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- [ ] –°–æ–∑–¥–∞–Ω backup HANDOFF —Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω —ç—Ç–æ—Ç HANDOFF —Å —Ç–µ–∫—É—â–∏–º —Å—Ç–∞—Ç—É—Å–æ–º
- [ ] –°–æ–∑–¥–∞–Ω—ã backup –≤–µ—Ä—Å–∏–∏ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω —Å–ø–∏—Å–æ–∫ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

---

**–ö–æ–Ω—Ç–∞–∫—Ç:** babayka  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Raspberry Pi 4, Raspbian console mode  
**VLC –≤–µ—Ä—Å–∏—è:** cvlc (–∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)  
**CEC —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:** /dev/cec1
