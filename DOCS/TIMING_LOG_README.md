# üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–∞ video-menu.sh

**–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:** 02.12.2025  
**–¶–µ–ª—å:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –ø–∞–ø–∫–∞–º–∏  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

> [!NOTE]
> –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **–í–´–ö–õ–Æ–ß–ï–ù–û** (`ENABLE_TIMING_LOG=0`).  
> –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `ENABLE_TIMING_LOG=1` –≤ `video-menu.sh`

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞–ø–∫–∞ —Å 32 —Ñ–∞–π–ª–∞–º–∏ –∑–∞–≥—Ä—É–∂–∞–ª–∞—Å—å ~10 —Å–µ–∫—É–Ω–¥  
**–ü—Ä–∏—á–∏–Ω–∞:** 32 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö SQL –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞  
**–†–µ—à–µ–Ω–∏–µ:** –ü–∞–∫–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (1 SQL –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ N)

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ Raspberry Pi 4:**
- BUILD_LIST: **6.0s ‚Üí 0.3s** (—É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ 18x ‚ö°)
- TOTAL: **10.5s ‚Üí 3.0s** (—É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ 3.4x ‚ö°)

---

## üìù –§–æ—Ä–º–∞—Ç –ª–æ–≥–∞

**–§–∞–π–ª:** `Log/video-menu-timing.log`

**–§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–µ–π:**
```
[2025-12-02 13:00:00] [ENTER] /home/mac_disk/Series/Breaking.Bad
[2025-12-02 13:00:00] [BUILD_LIST] Files: 150, Time: 0.523s
[2025-12-02 13:00:01] [DIALOG] Time: 0.156s
[2025-12-02 13:00:01] [TOTAL] Time: 0.679s
[2025-12-02 13:00:15] [EXIT] /home/mac_disk/Series/Breaking.Bad -> /home/mac_disk/Series
[2025-12-02 13:00:15] [ENTER] /home/mac_disk/Series
[2025-12-02 13:00:15] [BUILD_LIST] Files: 25, Time: 0.234s
[2025-12-02 13:00:16] [DIALOG] Time: 0.089s
[2025-12-02 13:00:16] [TOTAL] Time: 0.323s
```

---

## üîç –ß—Ç–æ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è

### 1. **[ENTER]** - –í—Ö–æ–¥ –≤ –ø–∞–ø–∫—É
- –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ
- –ù–∞—á–∞–ª–æ –∑–∞–º–µ—Ä–∞ –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

### 2. **[BUILD_LIST]** - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤
- –í—Ä–µ–º—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ (find + sort)
- **–£–∑–∫–æ–µ –º–µ—Å—Ç–æ:** –ú–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤ –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ

### 3. **[DIALOG]** - –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–µ–Ω—é
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã dialog (–æ—Ç—Ä–∏—Å–æ–≤–∫–∞ + –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞)
- **–£–∑–∫–æ–µ –º–µ—Å—Ç–æ:** –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –æ–∫–Ω–∞, –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∫–æ–Ω–æ–∫ —Å—Ç–∞—Ç—É—Å–∞

### 4. **[TOTAL]** - –û–±—â–µ–µ –≤—Ä–µ–º—è
- –û—Ç –≤—Ö–æ–¥–∞ –≤ –ø–∞–ø–∫—É –¥–æ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–µ–Ω—é
- –°—É–º–º–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 5. **[EXIT]** - –í—ã—Ö–æ–¥ –∏–∑ –ø–∞–ø–∫–∏
- –ü–µ—Ä–µ—Ö–æ–¥: –æ—Ç–∫—É–¥–∞ ‚Üí –∫—É–¥–∞
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `..` –∏–ª–∏ –≤—Ö–æ–¥–µ –≤ –ø–æ–¥–ø–∞–ø–∫—É

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –í video-menu.sh –∏–∑–º–µ–Ω–∏—Ç–µ:
ENABLE_TIMING_LOG=0  # –ë—ã–ª–æ (–≤—ã–∫–ª—é—á–µ–Ω–æ)
ENABLE_TIMING_LOG=1  # –°—Ç–∞–ª–æ (–≤–∫–ª—é—á–µ–Ω–æ)
```

### –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
```bash
# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–π –ª–æ–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
rm -f Log/video-menu-timing.log

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–µ–Ω—é
./video-menu.sh

# –ü–æ—Ö–æ–¥–∏—Ç—å –ø–æ –ø–∞–ø–∫–∞–º, –æ—Å–æ–±–µ–Ω–Ω–æ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ñ–∞–π–ª–æ–≤
# –ù–∞–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ ".." –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞–∑–∞–¥

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–∞
cat Log/video-menu-timing.log

# –ò–ª–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
grep "TOTAL" Log/video-menu-timing.log
grep "BUILD_LIST" Log/video-menu-timing.log
```

### –ê–Ω–∞–ª–∏–∑ —É–∑–∫–∏—Ö –º–µ—Å—Ç:
```bash
# –¢–æ–ø-10 —Å–∞–º—ã—Ö –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
grep "TOTAL" Log/video-menu-timing.log | sort -t: -k4 -rn | head -10

# –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç bc)
grep "BUILD_LIST" Log/video-menu-timing.log | \
  awk -F'Time: ' '{print $2}' | \
  awk -F's' '{sum+=$1; count++} END {print "–°—Ä–µ–¥–Ω–µ–µ BUILD_LIST:", sum/count, "s"}'
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- **BUILD_LIST:** 0.1-0.5s –¥–ª—è 50-100 —Ñ–∞–π–ª–æ–≤
- **DIALOG:** 0.05-0.2s
- **TOTAL:** 0.2-0.8s

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- **BUILD_LIST > 1s** - –º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–∏—Å–∫
- **DIALOG > 0.5s** - –ø—Ä–æ–±–ª–µ–º–∞ —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º —à–∏—Ä–∏–Ω—ã –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–æ–π –∏–∫–æ–Ω–æ–∫
- **TOTAL > 2s** - –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ï—Å–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ BUILD_LIST:
1. –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ls` –≤–º–µ—Å—Ç–æ `find` –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤
3. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### –ï—Å–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ DIALOG:
1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å `get_status_icon()` - –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
2. –ù–µ –≤—ã–∑—ã–≤–∞—Ç—å `db_get_playback_percent()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω SQL –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ

### –ï—Å–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞–∑–∞–¥ (..):
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –Ω–µ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ª–∏ –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ –∑–∞–Ω–æ–≤–æ?
2. –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é –∫—É—Ä—Å–æ—Ä–∞
3. –ù–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è –ø–∞–ø–∫–∏, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π —Ç–æ–ª—å–∫–æ —á—Ç–æ –≤—ã—à–ª–∏

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

> **–≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞!**
> 
> –ü–æ—Å–ª–µ –≤—ã—è–≤–ª–µ–Ω–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç:
> 1. –£–¥–∞–ª–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ `video-menu.sh`
> 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
> 3. –£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª (`TIMING_LOG_README.md`)

---

## üìç –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–æ–¥

**–§–∞–π–ª:** `video-menu.sh`

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–∏:**
- –°—Ç—Ä–æ–∫–∞ ~15: –§—É–Ω–∫—Ü–∏—è `timing_log()`
- –°—Ç—Ä–æ–∫–∞ ~33: –ó–∞–º–µ—Ä ENTER
- –°—Ç—Ä–æ–∫–∞ ~42: –ó–∞–º–µ—Ä –Ω–∞—á–∞–ª–∞ BUILD_LIST
- –°—Ç—Ä–æ–∫–∞ ~70: –ó–∞–º–µ—Ä –æ–∫–æ–Ω—á–∞–Ω–∏—è BUILD_LIST
- –°—Ç—Ä–æ–∫–∞ ~83: –ó–∞–º–µ—Ä –Ω–∞—á–∞–ª–∞ DIALOG
- –°—Ç—Ä–æ–∫–∞ ~126: –ó–∞–º–µ—Ä –æ–∫–æ–Ω—á–∞–Ω–∏—è DIALOG + TOTAL
- –°—Ç—Ä–æ–∫–∞ ~140: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ EXIT (–ø—Ä–∏ ..)
- –°—Ç—Ä–æ–∫–∞ ~148: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ EXIT (–ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –ø–∞–ø–∫—É)

---

## üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
# 1. –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ video-menu.sh:
cp BAK/251202/video-menu_251202_1303.bak video-menu.sh

# 2. –£–¥–∞–ª–∏—Ç—å –ª–æ–≥ —Ñ–∞–π–ª
rm -f Log/video-menu-timing.log

# 3. –£–¥–∞–ª–∏—Ç—å —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
rm -f DOCS/TIMING_LOG_README.md
```
