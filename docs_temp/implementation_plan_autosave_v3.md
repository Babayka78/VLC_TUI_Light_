# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è VLC

**–î–∞—Ç–∞:** 28.11.2025, 16:10  
**–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞:** 3 (–ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –±—ç–∫–∞–ø–æ–≤)  
**–°—Ç–∞—Ç—É—Å:** –ñ–î–Å–¢ –£–¢–í–ï–†–ñ–î–ï–ù–ò–Ø ‚è∏Ô∏è

---

## üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ä–∞–±–æ—á–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –±—ç–∫–∞–ø–æ–≤ –æ—Ç 15:21:
  - `playback-tracker.sh` –∏–∑ `BAK/251128/playback-tracker_V3_251128_1521.bak`
  - `vlc-cec.sh` –∏–∑ `BAK/251128/vlc-cec_V2_251128_1521.bak`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å - –æ–±–∞ —Ñ–∞–π–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –ø–ª–∞–Ω API –≤ `development_roadmap.md`

### –¶–µ–ª—å –∑–∞–¥–∞—á–∏
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–∏–¥–µ–æ.

### –ü—Ä–∏–Ω—Ü–∏–ø –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ **–í—Å—è –ª–æ–≥–∏–∫–∞** –≤ `playback-tracker.sh` (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
- ‚úÖ **–ú–∏–Ω–∏–º—É–º –∏–∑–º–µ–Ω–µ–Ω–∏–π** –≤ `vlc-cec.sh` (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥)
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å

---

## üèóÔ∏è –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –§–∞–π–ª 1: `playback-tracker.sh`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1.1: –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å (SemVer)
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –°—Ç—Ä–æ–∫–∏ 1-5 (header)

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```bash
#!/bin/bash
# playback-tracker.sh - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
# –í–µ—Ä—Å–∏—è: 0.2.0
# Changelog:
#   0.2.0 (2025-11-28) - –î–æ–±–∞–≤–ª–µ–Ω VLC –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (monitor_vlc_playback, finalize_playback)
#   0.1.0 (2025-11-28) - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ .ser ‚Üí .playback, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
#   0.0.1 (–Ω–∞—á–∞–ª—å–Ω–∞—è) - –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (save_progress, load_progress, get_status_icon)
#
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: source "$SCRIPT_DIR/playback-tracker.sh"

# –í–µ—Ä—Å–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Semantic Versioning: MAJOR.MINOR.PATCH)
PLAYBACK_TRACKER_VERSION="0.2.0"
PLAYBACK_TRACKER_MIN_VERSION="0.2.0"

# –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π
check_version_compatibility() {
    local required_version="$1"
    local current_version="$PLAYBACK_TRACKER_VERSION"
    
    local req_major=$(echo "$required_version" | cut -d. -f1)
    local cur_major=$(echo "$current_version" | cut -d. -f1)
    
    if [ "$req_major" != "$cur_major" ]; then
        echo "‚ùå –û–®–ò–ë–ö–ê: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è playback-tracker.sh"
        echo "   –¢—Ä–µ–±—É–µ—Ç—Å—è: $required_version"
        echo "   –¢–µ–∫—É—â–∞—è:   $current_version"
        return 1
    fi
    
    return 0
}
```

**–ó–∞—á–µ–º:**
- Semantic Versioning –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –≤–µ—Ä—Å–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ changelog

**–°—Ç—Ä–æ–∫:** +30

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1.2: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ (–ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏)

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```bash
# ============================================================
# –ú–û–ù–ò–¢–û–†–ò–ù–ì VLC –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–Ø
# ============================================================

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è VLC –≤ —Ñ–æ–Ω–µ
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: monitor_vlc_playback "/path/to/video.avi" VLC_PID
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: PID –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
monitor_vlc_playback() {
    local video_file="$1"
    local vlc_pid="$2"
    local video_dir=$(dirname "$video_file")
    local video_name=$(basename "$video_file")
    
    (
        while true; do
            sleep "$MONITOR_INTERVAL"
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ VLC –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
            if ! kill -0 "$vlc_pid" 2>/dev/null; then
                break
            fi
            
            # –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é —á–µ—Ä–µ–∑ VLC RC
            local current=$(echo "get_time" | nc -w 1 localhost 4212 2>&1 | grep -oE '[0-9]+' | tail -1)
            local total=$(echo "get_length" | nc -w 1 localhost 4212 2>&1 | grep -oE '[0-9]+' | tail -1)
            
            if [ -n "$current" ] && [ -n "$total" ] && [ "$total" -gt 0 ]; then
                local percent=$((current * 100 / total))
                save_progress "$video_dir" "$video_name" "$current" "$total" "$percent"
            fi
        done
    ) &
    
    echo $!
}

# –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: finalize_playback "/path/to/video.avi"
finalize_playback() {
    local video_file="$1"
    local video_dir=$(dirname "$video_file")
    local video_name=$(basename "$video_file")
    
    # –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é (timeout 2 —Å–µ–∫)
    local current=$(echo "get_time" | nc -w 2 localhost 4212 2>&1 | grep -oE '[0-9]+' | tail -1)
    local total=$(echo "get_length" | nc -w 2 localhost 4212 2>&1 | grep -oE '[0-9]+' | tail -1)
    
    if [ -n "$current" ] && [ -n "$total" ] && [ "$total" -gt 0 ]; then
        local percent=$((current * 100 / total))
        echo "üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏: ${percent}% (${current}s / ${total}s)"
        save_progress "$video_dir" "$video_name" "$current" "$total" "$percent"
        return 0
    fi
    
    return 1
}
```

**–ó–∞—á–µ–º:**
- `monitor_vlc_playback()` - —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `finalize_playback()` - —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
- –í—Å—è –ª–æ–≥–∏–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

**–°—Ç—Ä–æ–∫:** +55

---

### –§–∞–π–ª 2: `vlc-cec.sh`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–µ—Ä—Å–∏–∏
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 18

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
source "$SCRIPT_DIR/playback-tracker.sh"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–∏
REQUIRED_TRACKER_VERSION="0.2.0"
if ! check_version_compatibility "$REQUIRED_TRACKER_VERSION"; then
    exit 1
fi
```

**–ó–∞—á–µ–º:**
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ–º–æ–π –≤–µ—Ä—Å–∏–∏

**–°—Ç—Ä–æ–∫:** +8

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 69 (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ cec-client, –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ñ–æ–Ω–µ
MONITOR_PID=$(monitor_vlc_playback "$VIDEO_FILE" $VLC_PID)
```

**–ó–∞—á–µ–º:**
- –°—Ç–∞—Ä—Ç –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ VLC
- –°–æ—Ö—Ä–∞–Ω—è–µ–º PID –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

**–°—Ç—Ä–æ–∫:** +2

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.3: –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é cleanup()
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –°—Ç—Ä–æ–∫–∏ 334-341

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```bash
cleanup() {
    echo ""
    echo "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã..."
    kill $CEC_PID 2>/dev/null
    kill $VLC_PID 2>/dev/null
    pkill -P $$ 2>/dev/null
    exit 0
}
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```bash
cleanup() {
    echo ""
    echo "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã..."
    
    # –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
    finalize_playback "$VIDEO_FILE"
    
    # –ó–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã
    kill $MONITOR_PID 2>/dev/null
    kill $CEC_PID 2>/dev/null
    kill $VLC_PID 2>/dev/null
    pkill -P $$ 2>/dev/null
    exit 0
}
```

**–ó–∞—á–µ–º:**
- –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–°—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–æ:** 8 ‚Üí 13 (+5)

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –§–∞–π–ª | –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ | –ò–∑–º–µ–Ω–µ–Ω–æ —Å—Ç—Ä–æ–∫ | –ù–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π |
|------|----------------|----------------|---------------|
| `playback-tracker.sh` | ~85 | 5 | 3 |
| `vlc-cec.sh` | 10 | 5 | 0 |
| **–ò–¢–û–ì–û** | **~95** | **10** | **3** |

**–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ:** 85% –ª–æ–≥–∏–∫–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, 15% –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚úÖ

---

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:**
- ‚úÖ VLC –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏
- ‚úÖ –ö–∞–∂–¥—ã–µ 60 —Å–µ–∫ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `MONITOR_INTERVAL`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è
- ‚úÖ –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ (BACK/Ctrl+C) - —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- ‚úÖ –§–æ–Ω–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- ‚úÖ –í—Å—è —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

**–§–∞–π–ª—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:**
- –§–æ—Ä–º–∞—Ç: `.playback` –≤ –ø–∞–ø–∫–µ —Å –≤–∏–¥–µ–æ
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ: `video.avi:2673:2700:99:1732567890`

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ:**
- ‚úÖ –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π timeout (1 —Å–µ–∫ –≤ —Ñ–æ–Ω–µ, 2 —Å–µ–∫ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π)
- ‚úÖ –ü—Ä–∏ –æ—à–∏–±–∫–µ NC - –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Ü–∏–∫–ª, –Ω–µ –∫—Ä–∞—à–∏–º—Å—è

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ú–µ–∂–¥—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º–∏ –¥–æ 60 —Å–µ–∫ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –¢—Ä–µ–±—É–µ—Ç—Å—è RC –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ localhost:4212

---

## üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:**
   ```bash
   bash -n playback-tracker.sh && bash -n vlc-cec.sh
   ```
   **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ—Ç –æ—à–∏–±–æ–∫

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–∞ Raspberry Pi)

2. **–¢–µ—Å—Ç 1: –ó–∞–ø—É—Å–∫ –∏ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**
   ```bash
   ./vlc-cec.sh /path/to/test-video.avi
   ```
   - –ß–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `.playback`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–∑–∏—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª —Å–æ–∑–¥–∞–Ω, –ø–æ–∑–∏—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

3. **–¢–µ—Å—Ç 2: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–∏–¥–µ–æ
   - –ù–∞–∂–∞—Ç—å BACK –Ω–∞ –ø—É–ª—å—Ç–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏: X%"
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—è–≤–∏–ª–æ—Å—å, –ø–æ–∑–∏—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

4. **–¢–µ—Å—Ç 3: –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –ø–æ–∑–∏—Ü–∏–∏**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ –∂–µ –≤–∏–¥–µ–æ —Å–Ω–æ–≤–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–∞—á–∞–ª–æ—Å—å —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–¥–µ–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞

---

## üîÆ –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

> [!NOTE]
> –≠—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è **–ü–û–°–õ–ï** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
   - –¢–µ–∫—É—â–∏–π: 60 —Å–µ–∫ (—á–µ—Ä–µ–∑ `MONITOR_INTERVAL`)
   - –í–æ–ø—Ä–æ—Å: –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è?
   - –ò–¥–µ—è: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª (—á–∞—â–µ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ)?

2. **Timeout –¥–ª—è VLC RC:**
   - –§–æ–Ω–æ–≤—ã–π: 1 —Å–µ–∫
   - –§–∏–Ω–∞–ª—å–Ω—ã–π: 2 —Å–µ–∫
   - –í–æ–ø—Ä–æ—Å: –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å?

3. **–°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏?
   - –¢–æ–ª—å–∫–æ –ø—Ä–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º? (—Ç–µ–∫—É—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç)
   - Silent mode?

4. **Retry –ª–æ–≥–∏–∫–∞:**
   - –°–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ VLC RC?
   - Backoff —Å—Ç—Ä–∞—Ç–µ–≥–∏—è?

---

## ‚úã –ñ–¥—ë–º —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏?** –ï—Å–ª–∏ –ø–ª–∞–Ω —É—Ç–≤–µ—Ä–∂–¥—ë–Ω, –ø—Ä–∏—Å—Ç—É–ø–∞–µ–º –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π.

**–ï—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è?** –í–Ω–µ—Å—ë–º –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –≤ –ø–ª–∞–Ω –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º.
